(window["webpackJsonptest-task2"]=window["webpackJsonptest-task2"]||[]).push([[0],{20:function(e,t,n){e.exports=n(37)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(4),o=n.n(c),i=n(1),l=n(5),u=n(17);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={plugin:"",listCert:[],certInfo:{},certID:null,sign:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_PLUGIN":return p({},e,{plugin:t.payload});case"GET_LIST_CERT":return p({},e,{listCert:t.payload});case"GET_CERT_INFO":return p({},e,{certInfo:t.certInfo,certID:t.certID});case"ON_SIGN":return p({},e,{sign:t.payload});default:return e}},g=Object(l.b)(m),b=n(14),E=n.n(b),h=n(18),O=n(6),y=n(7),v=n(9),I=n(8),d=n(10),j=(n(31),n(19)),C=(n(32),Object(i.b)((function(e){return{plugin:e.plugin}}))((function(e){var t=e.plugin,n=t?"\u0412\u0435\u0440\u0441\u0438\u044f \u043f\u043b\u0430\u0433\u0438\u043d\u0430: ".concat(t):"\u041f\u043b\u0430\u0433\u0438\u043d \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d";return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043b\u0430\u0433\u0438\u043d\u0430"),a.a.createElement("div",{className:"Plugin"},n))}))),D=(n(33),Object(i.b)((function(e){return{listCert:e.listCert}}))((function(e){var t=e.listCert,n=e.onCert,r=t.map((function(e){return a.a.createElement("option",{key:e.id,value:"s1",onClick:function(){return n(e.id)}},e.name)}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b"),a.a.createElement("div",{className:"ListCertificate"},a.a.createElement("select",{name:"select",size:"3",multiple:!0},r)))}))),w=(n(34),Object(i.b)((function(e){return{certInfo:e.certInfo}}))((function(e){var t=e.certInfo;function n(e){var t=new Date(e),n=""+(t.getMonth()+1),r=""+t.getDate(),a=t.getFullYear();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[a,n,r].join("-")}return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0443"),a.a.createElement("div",{className:"Certificate"},a.a.createElement("p",null,"\u043a\u043e\u043c\u0443 \u0432\u044b\u0434\u0430\u043d: ",t.SubjectName),a.a.createElement("p",null,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d: ",t.IssuerName),a.a.createElement("p",null,"\u0434\u0435\u0439\u0441\u0442\u0432\u0435\u0442 \u0441 ".concat(n(t.ValidFromDate)," \u043f\u043e ").concat(n(t.ValidToDate)))))}))),S=(n(35),function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(a)))).state={text:"",textLimit:!1},n.onChangeData=function(e){n.state.text.length<2001?n.setState({text:e.target.value.slice(0,2e3),textLimit:!1}):n.setState({textLimit:!0})},n}return Object(d.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSign,r=t.certID,c=this.state.textLimit?a.a.createElement("span",null,"\u0422\u0435\u043a\u0441\u0442 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0438\u0432\u044b\u0448\u0430\u0442\u044c 2000 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):null;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),a.a.createElement("div",{className:"Data"},c,a.a.createElement("textarea",{rows:"10",cols:"80",name:"text",onChange:this.onChangeData,value:this.state.text})),a.a.createElement("button",{onClick:function(){return n(r,e.state.text)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c"))}}]),t}(r.Component)),x=Object(i.b)((function(e){return{certID:e.certID}}))(S),N=(n(36),Object(i.b)((function(e){return{sign:e.sign}}))((function(e){var t=e.sign;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c"),a.a.createElement("div",{className:"Signature"},a.a.createElement("textarea",{rows:"10",cols:"80",name:"text",defaultValue:t})))}))),P=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(a)))).cryptopro=new j.CryptoPro,n.initPlugin=Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.cryptopro.init().then((function(e){n.props.isPlugin(e.version)}));case 2:return e.next=4,n.cryptopro.listCertificates().then((function(e){n.props.getListCert(e)}));case 4:case"end":return e.stop()}}),e)}))),n.onSign=function(e,t){var r=btoa(encodeURI(t));n.cryptopro.signData(r,e).then((function(e){n.props.onSign(e)}))},n.onCert=function(e){n.cryptopro.certificateInfo(e).then((function(t){n.props.getCertInfo(t,e)}))},n}return Object(d.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.initPlugin()}},{key:"render",value:function(){var e=this,t=this.props.certID?a.a.createElement(w,null):null;return a.a.createElement("div",{className:"App"},a.a.createElement(C,null),a.a.createElement(D,{onCert:function(t){return e.onCert(t)}}),t,a.a.createElement(x,{onSign:function(t){return e.onSign(t)}}),a.a.createElement(N,null))}}]),t}(r.Component),k={isPlugin:function(e){return{type:"IS_PLUGIN",payload:e}},getListCert:function(e){return{type:"GET_LIST_CERT",payload:e}},getCertInfo:function(e,t){return{type:"GET_CERT_INFO",certInfo:e,certID:t}},onSign:function(e){return{type:"ON_SIGN",payload:e}}},_=Object(i.b)((function(e){return{certID:e.certID}}),k)(P);o.a.render(a.a.createElement(i.a,{store:g},a.a.createElement(_,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.65333502.chunk.js.map